function NamespacesPrototype(){function b(c,d,e){c[d]=e;e._path=c._path?(c._path+"."+d):d;e._parent=c}function a(d,f,c){var e=f.shift();if(0==f.length){b(d,e,c())}else{if(!d[e]){b(d,e,{})}a(d[e],f,c)}}this.create=function(d,c){a(window,d.split("."),function(){return new c()})};this.register=function(d,c){a(window,d.split("."),function(){return c})}}var Namespaces;if(!Namespaces){Namespaces=new NamespacesPrototype()};Namespaces.create("com.netease.mail.common.JSLoader",function(){var f={};var b={};var e={};var h=this;function a(n){var o=b[n];if(o){var m=[];for(var k=0;k<o.length;k++){var j=o[k];if(!j.flag){j.flag=1;for(var l in j.srcs){if(3!=f[l]){j.flag=0;m.push(j);break}}if(j.flag){j.callback()}}}b[n]=m}}function c(k){var j=document.getElementsByTagName("HEAD").item(0);var i=document.createElement("script");i.language="javascript";i.type="text/javascript";i.text=k;j.appendChild(i)}function g(i){if(1!=f[i]){return}f[i]=2;$.ajax({url:i,type:"GET",dataType:"text",success:function(k,j,l){c(k);f[i]=3;a(i)}})}function d(j,i){if(!b[j]){b[j]=[]}var k=b[j];k.push(i)}this.mark=function(j){for(var k=0;k<j.length;k++){var l=j[k];f[l]=3}};this.include=function(k,p,o){if(o){if(e[o]){return}e[o]=1}var j={flag:0,srcs:{},callback:p};var m=typeof p=="function";for(var l=0;l<k.length;l++){var n=k[l];if(3!=f[n]){if(m){m=false;j.srcs[n]=1;d(n,j)}if(!f[n]){f[n]=1;g(n)}}}if(m){p()}}});Namespaces.create("com.netease.mail.common.PopFuncs",function(){this.agt=navigator.userAgent.toLowerCase();this.ie=((this.agt.indexOf("msie")!=-1)&&(this.agt.indexOf("opera")==-1)&&(this.agt.indexOf("omniweb")==-1));this.isValid=function(a){return null!=a&&typeof a!=undefined};this.judgeVal=function(a,b){return this.isValid(a)?a:b};this.getTrueBody=function(b){var a=b||window;var c=a.document;return(c.compatMode&&c.compatMode!="BackCompat")?c.documentElement:c.body};this.getScrollTop=function(b){var a=b||window;return this.ie?this.getTrueBody(a).scrollTop:a.pageYOffset};this.getScrollLeft=function(b){var a=b||window;return this.ie?this.getTrueBody(a).scrollLeft:a.pageXOffset};this.getMezzoTop=function(d,a,c,b){return(this.judgeVal(c,this.getScrollTop(b))+(((a||this.getTrueBody(b).clientHeight)-d)>>1))};this.getMezzoLeft=function(a,d,c,b){return(this.judgeVal(c,this.getScrollLeft(b))+(((d||this.getTrueBody(b).clientWidth)-a)>>1))};this.getPageSize=function(){var a=this.getTrueBody(window);var d=0;var b=0;var c=0;var f=0;var e=[0,0];e[0]=a.clientHeight;e[1]=a.clientWidth;d=a.offsetWidth;b=a.offsetHeight;c=a.scrollWidth;f=a.scrollHeight;if(b>e[0]){e[0]=b}if(d>e[1]){e[1]=d}if(f>e[0]){e[0]=f}if(c>e[1]){e[1]=c}return e};this.getMaxClientWidth=function(){var a=this.getTrueBody(window);return Math.max(a.clientWidth,a.scrollWidth)}});Namespaces.register("com.netease.mail.common.Popup",function Popup(b,e,i,d,c){this.divPopup=b;this.divMask=e;this.deltaX=d||0;this.deltaY=c||0;this.currX=0;this.currY=0;var f=this;var a=com.netease.mail.common.PopFuncs;var h=function(j){return document.getElementById(j)};this.reposition=function(p,n,o,k){var m=h(this.divPopup);if(!m||"none"==m.style.display){return}m.style.top=(this.currY||(this.deltaY+a.getMezzoTop(m.offsetHeight,k,n,window)))+"px";m.style.left=(this.currX||(this.deltaX+a.getMezzoLeft(m.offsetWidth,o,p,window)))+"px";var j=a.getPageSize();var l=h(this.divMask);l.style.height=j[0]+"px";l.style.width=j[1]+"px"};this.show=function(j,o,n,l,m,k){h(this.divMask).style.display="";h(this.divPopup).style.display="";this.currX=j;this.currY=o;this.reposition(n,l,m,k)};this.hide=function(){h(this.divPopup).style.display="none";h(this.divMask).style.display="none"};$(window).resize(function(){f.reposition()});var g=i||window;$(g).scroll(function(){f.reposition()})});Namespaces.create("com.netease.mail.common.RequestUtils",function(){var a=false;if(typeof XMLHttpRequest!="undefined"){var b=new XMLHttpRequest();if("withCredentials" in b){a=true}}this.fUrlP=function(d,e,c){if(c){return d+"="+e}else{return"&"+d+"="+e}};this.formSubmit=function(e,f,i,g,d){var h=$("#"+e);h.attr("action",f);h.attr("method",i);h.children("input").remove();for(var c in g){h.append('<input type="hidden" name="'+c+'" value="'+g[c]+'" />')}for(var c in d){h.attr(c,d[c])}h.submit();for(var c in d){h.removeAttr(c)}};this.getCookie=function(d){if(0<document.cookie.length){var c=d+"=";start=document.cookie.indexOf(c);if(-1<start){start+=c.length;end=document.cookie.indexOf(";",start);if(0>end){end=document.cookie.length}return unescape(document.cookie.substring(start,end))}}return null};this.supportCORS=function(){return a}});Namespaces.create("com.netease.mail.common.StringUtils",function(){this.paramReg=new RegExp("\\$(.{1,20}?)\\$","gm");this.merge=function(e,f,d){return e.replace(this.paramReg,function(g){var h=f[g.substring(1,g.length-1)];if(null!=h){return h}else{if(typeof h=="undefined"){return g}else{return d||"空"}}})};this.filterMap={"\n":"<br/>","<":"&lt;",">":"&gt;"};var c="";for(var a in this.filterMap){if(0<c.length){c+="|"}c+=a}this.filterExp=new RegExp(c,"gm");this.doFilter=function(e,d){if(!e){return e}var f=d||this.filterMap;return e.replace(this.filterExp,function(g){return f[g]})};this.blankStr=new RegExp("^\\s*$");this.isEmpty=function(d){return null==d||typeof d=="undefined"||this.blankStr.test(d)};this.isBlank=function(d){return null==d||this.blankStr.test(d)};this.fLen=function(g){var d=0;var f=g.length;for(var e=0;e<f;e++){if(g.charCodeAt(e)>255){d+=2}else{d++}}return d};this.join=function(i,d,f){var j=d||"=";var g=f||",";var h="";for(var e in i){if(0<h.length){h+=g}h+=(e+j+encodeURIComponent(i[e]||""))}return h};var b=" 　`｀~～!！@·#＃$￥%％^…&＆()（）-－_—=＝+＋[]［］|·:：;；\"“\\、'‘,，<>〈〉?？/／*＊.。{}｛｝";this.charMode=function(f){var e=f.charCodeAt(0);if(e>=48&&e<=57){return 1}else{if(e>=65&&e<=90){return 2}else{if(e>=97&&e<=122){return 4}else{if(-1<b.indexOf(f)){return 8}}}}return 0};this.toSBC=function(f){var e="";for(var g=0;g<f.length;g++){var h=f.charCodeAt(g);if(h==32){e+=String.fromCharCode(12288)}else{if(h<127){e=String.fromCharCode(h+65248)}else{e+=String.fromCharCode(h)}}}return e};this.toDBC=function(f){var e="";for(var g=0;g<f.length;g++){var h=f.charCodeAt(g);if(h==12288){e+=String.fromCharCode(32)}else{if(h>65280&&h<65375){e+=String.fromCharCode(h-65248)}else{e+=String.fromCharCode(h)}}}return e}});Namespaces.create("com.netease.mail.unireg.register.common.CheckUtils",function(){var b=com.netease.mail.common.StringUtils;var a={repeat:function(c){return/^(.)\1+$/.test(c)},list:(function(){var c=["123456","123456789","12345678","123123","5201314","1234567","7758521","654321","1314520","123321","1234567890","147258369","123654","5211314","woaini","1230123","987654321","147258","123123123","7758258","520520","789456","456789","159357","112233","1314521","456123","110110","521521","zxcvbnm","789456123","0123456789","0123456","123465","159753","qwertyuiop","987654","115415","1234560","123000","123789","100200","963852741","121212","111222","123654789","12301230","456456","741852963","asdasd","asdfghjkl","369258","863786","258369","8718693","666888","5845201314","741852","168168","iloveyou","852963","4655321","102030","147852369","321321"];return function(e){for(var d=0;d<c.length;d++){if(e==c[d]){return true}}return false}})()};this.checkName=function(c){var d=b.fLen(c);var e=/^[\w]+$/.test(c);if(d==0){return 0}else{if(!e){return -3}else{if(d>18){if(d<21){return -9}return -6}else{if(d<6){if(d>2){return -10}return -2}else{if(/^[0-9]+$/.test(c)){if(/^1[34587]\d{9}$/.test(c)){return -8}return -7}else{if(/^\d.*$/.test(c)){return -1}else{if(!/^([a-z]|[A-Z])/.test(c)){return -4}else{if(!(/[0-9a-zA-Z]+$/.test(c))){return -5}}}}}}}}return 1};this.checkPasswordStrength=function(e){var d=0,f,c=0;for(i=0;i<e.length;i++){f=b.charMode(e.charAt(i));if(0==f){return -1}if(0==(d&f)){d|=f;++c}}return c};this.checkPassword=function(e){var c=e.length;for(i=0;i<c;i++){if(0==b.charMode(e.charAt(i))){return -3}}if(c<6){return -1}else{if(c>16){return -2}else{for(var d in a){if(a[d](e)){return -4}}}}return 1};this.backendCheckName=function(c,d){$.post("/unireg/call.do?cmd=urs.checkName",{name:c},d)};this.isMobile=function(c){return/^1[34587]\d{9}$/.test(c)};this.checkMobile=function(c){return c==""?0:this.isMobile(c)?1:-1};this.checkVcode=function(c){return(c=="")?0:1}});Namespaces.create("com.netease.mail.unireg.register.common.FormLogger",function(){function a(c,b){b.level=c;$.post("/unireg/call.do?cmd=register.formLog",b)}this.info=function(b){a("info",b)};this.warn=function(b){a("warn",b)};this.error=function(b){a("error",b)};this.fatal=function(b){a("fatal",b)}});Namespaces.create("com.netease.mail.unireg.register.common.LoginUtils",function(){var c=com.netease.mail.common.RequestUtils;var d=com.netease.mail.common.StringUtils;var a={"163.com":"http://entry.mail.163.com/coremail/fcg/ntesdoor2?lightweight=1&verifycookie=1&language=-1&style=-1&from=unireg&df=unireg&username=","126.com":"http://entry.mail.126.com/cgi/ntesdoor?lightweight=1&verifycookie=1&language=-1&style=-1&from=unireg&df=unireg&username=","yeah.net":"http://entry.mail.yeah.net/cgi/ntesdoor?lightweight=1&verifycookie=1&language=-1&style=-1&from=unireg&df=unireg&username="};var b={"163.com":"mail163","126.com":"mail126","yeah.net":"mailyeah"};this.login=function(m,j,g,k,h,l){var i=j+"@"+g;var e={username:i,domain:g,password:k,language:"-1",passtype:(typeof h=="undefined"?"1":h),savelogin:"0"};var f="https://reg.163.com/logins.jsp?type=1";if(d.isEmpty(l)){f+=c.fUrlP("url",encodeURIComponent(a[g]+i))}else{f+=c.fUrlP("url",l)}c.formSubmit(m,f,"POST",e)}});Namespaces.create("com.netease.mail.unireg.register.common.VerifyUtils",function(){this.__$0=function(a){var q=10,w=a,n,m=w.length,f=new Date(),b=f.getTime(),c=b%q,h=(b-c)/q;if(c<1){c=1}c=b%q;var d=b%(q*q);h=(b-d)/q;h=h/q;d=(d-c)/q;var z=b+"",p=z.charAt(q),g=c+""+d+""+p,l=Number(g),e=l*Number(w),x=e+"",k="";for(n=(e+"").length-1;n>=0;n--){var o=x.charAt(n);k=k+o}var i=p+k+d+c,y=i.length,j=0,r="",v="";for(j=0;j<y;q++){r=r+i.charAt(j);j=j+2}for(j=1;j<y;j=j+2){v=v+i.charAt(j)}var u=r+v;u=i;var t=0,s="";for(t=0;t<u.length;t++){s=s+u.charAt(t)}return u}});Namespaces.create("com.netease.mail.unireg.register.main.ItlPhone",function(){var b={url:"http://mimg.127.net/xm/reg_all/160401/itlPhoneData.txt",flag:"CN",code:"+86",width:35,height:0,optWidth:0,optHeight:300,optTop:0,optLeft:0,codeMode:"+x"};var c=null;var a={results:[{id:"CN",enname:"China",cnname:"中国",code:"+86",localname:""},{id:"AL",enname:"Albania",cnname:"阿尔巴尼亚",code:"+355",localname:"Shqipëria"},{id:"DZ",enname:"Algeria",cnname:"阿尔及利亚",code:"+213",localname:"People's Democratic Republic of Algeria"},{id:"AF",enname:"Afghanistan",cnname:"阿富汗",code:"+93",localname:"Republic of Afghanistan"},{id:"AR",enname:"Argentina",cnname:"阿根廷",code:"+54",localname:"Argentina"},{id:"AE",enname:"United Arab Emirates",cnname:"阿拉伯联合大公国",code:"+971",localname:"The United Arab Emirates"},{id:"AW",enname:"Aruba",cnname:"阿鲁巴",code:"+297",localname:"Aruba"},{id:"OM",enname:"Oman",cnname:"阿曼",code:"+968",localname:"Sultanate of Oman"},{id:"AZ",enname:"Azerbaijan",cnname:"阿塞拜疆",code:"+994",localname:"Azərbaycan"},{id:"EG",enname:"Egypt",cnname:"埃及",code:"+20",localname:"The Arab Republic of Egypt"},{id:"ET",enname:"Ethiopia",cnname:"埃塞俄比亚",code:"+251",localname:"Ityop'iya"},{id:"IE",enname:"Ireland",cnname:"爱尔兰",code:"+353",localname:"Ireland"},{id:"EE",enname:"Estonia",cnname:"爱沙尼亚",code:"+372",localname:"Eesti"},{id:"AD",enname:"Andorra",cnname:"安道尔",code:"+376",localname:"Andorra"},{id:"AO",enname:"Angola",cnname:"安哥拉",code:"+244",localname:"Angola"},{id:"AI",enname:"Anguilla",cnname:"安圭拉",code:"+1264",localname:"Anguilla"},{id:"AG",enname:"Antigua and Barbuda",cnname:"安提瓜和巴布达",code:"+1268",localname:"Antigua and Barbuda"},{id:"AT",enname:"Austria",cnname:"奥地利",code:"+43",localname:"Österreich"},{id:"AU",enname:"Australia",cnname:"澳大利亚",code:"+61",localname:"Australia"},{id:"MO",enname:"Macau",cnname:"澳门地区",code:"+853",localname:"Macau"},{id:"BB",enname:"Barbados",cnname:"巴巴多斯¯",code:"+1246",localname:"Barbados"},{id:"PG",enname:"Papua New Guinea",cnname:"巴布亚新几内亚",code:"+675",localname:""},{id:"BS",enname:"Bahamas",cnname:"巴哈马",code:"+1242",localname:"Bahamas"},{id:"PK",enname:"Pakistan",cnname:"巴基斯坦",code:"+92",localname:"Islamic Republic of Pakistan"},{id:"PY",enname:"Paraguay",cnname:"巴拉圭",code:"+595",localname:"Paraguay"},{id:"PS",enname:"Palestinian Territory",cnname:"巴勒斯坦领土",code:"+970",localname:"Palestinian Territories"},{id:"BH",enname:"Bahrain",cnname:"巴林",code:"+973",localname:"The Kingdom of Bahrain"},{id:"PA",enname:"Panama",cnname:"巴拿马",code:"+507",localname:"Panamá"},{id:"BR",enname:"Brazil",cnname:"巴西",code:"+55",localname:"Brasil"},{id:"BY",enname:"Belarus",cnname:"白俄罗斯",code:"+375",localname:"Белару́сь"},{id:"BM",enname:"Bermuda",cnname:"百慕大",code:"+1441",localname:"Bermuda"},{id:"BG",enname:"Bulgaria",cnname:"保加利亚",code:"+359",localname:"България"},{id:"BJ",enname:"Benin",cnname:"贝宁",code:"+229",localname:"Bénin"},{id:"BE",enname:"Belgium",cnname:"比利时",code:"+32",localname:"België"},{id:"IS",enname:"Iceland",cnname:"冰岛",code:"+354",localname:"Ísland"},{id:"PR",enname:"Puerto Rico",cnname:"波多黎各",code:"+1787",localname:"Puerto Rico"},{id:"PL",enname:"Poland",cnname:"波兰",code:"+48",localname:""},{id:"BA",enname:"Bosnia and Herzegovina",cnname:"波斯尼亚和黑塞哥维那",code:"+387",localname:"Bosna i Hercegovina"},{id:"BO",enname:"Bolivia",cnname:"玻利维亚",code:"+591",localname:"Bolivia"},{id:"BZ",enname:"Belize",cnname:"伯利兹",code:"+501",localname:"Belize"},{id:"BW",enname:"Botswana",cnname:"博茨瓦纳",code:"+267",localname:"Botswana"},{id:"BT",enname:"Bhutan",cnname:"不丹",code:"+975",localname:"འབྲུག་ཡུལ་"},{id:"BF",enname:"Burkina Faso",cnname:"布基纳法索",code:"+226",localname:"Burkina Faso"},{id:"BI",enname:"Burundi",cnname:"布隆迪",code:"+257",localname:"Uburundi"},{id:"KP",enname:"North Korea",cnname:"朝鲜",code:"+850",localname:""},{id:"GQ",enname:"Equatorial Guinea",cnname:"赤道几内亚",code:"+240",localname:"Guinea Ecuatorial"},{id:"DK",enname:"Denmark",cnname:"丹麦",code:"+45",localname:"Danmark"},{id:"DE",enname:"Germany",cnname:"德国",code:"+49",localname:"Deutschland"},{id:"TL",enname:"East Timor",cnname:"东帝汶",code:"+670",localname:""},{id:"TG",enname:"Togo",cnname:"多哥",code:"+228",localname:"Togo"},{id:"DM",enname:"Dominica",cnname:"多米尼加",code:"+1767",localname:"Dominica"},{id:"DO",enname:"Dominican Republic",cnname:"多明尼加共和国",code:"+1809",localname:"Dominican Republic"},{id:"RU",enname:"Russia",cnname:"俄罗斯",code:"+7",localname:"Россия"},{id:"EC",enname:"Ecuador",cnname:"厄瓜多尔",code:"+593",localname:"Ecuador"},{id:"ER",enname:"Eritrea",cnname:"厄立特里亚",code:"+291",localname:"Ertra"},{id:"FR",enname:"France",cnname:"法国",code:"+33",localname:"France"},{id:"FO",enname:"Faroe Islands",cnname:"法罗群岛",code:"+298",localname:"Faroe Islands"},{id:"PF",enname:"French Polynesia",cnname:"法属波利尼西亚",code:"+689",localname:"French Polynesia"},{id:"GF",enname:"French Guiana",cnname:"法属圭亚那",code:"+594",localname:"French Guiana"},{id:"PH",enname:"Philippines",cnname:"菲律宾",code:"+63",localname:""},{id:"FJ",enname:"Fiji",cnname:"斐济",code:"+679",localname:"Fiji"},{id:"FI",enname:"Finland",cnname:"芬兰",code:"+358",localname:"Suomi"},{id:"CV",enname:"Cape Verde",cnname:"佛得角",code:"+238",localname:"Cabo Verde"},{id:"GM",enname:"Gambia",cnname:"冈比亚",code:"+220",localname:"Gambia"},{id:"CG",enname:"Republic Of The Congo",cnname:"刚果共和国",code:"+242",localname:"Congo [Republic]"},{id:"CD",enname:"Democratic Republic of the Congo",cnname:"刚果民主共和国",code:"+243",localname:"Congo [DRC]"},{id:"CO",enname:"Colombia",cnname:"哥伦比亚",code:"+57",localname:"Colombia"},{id:"CR",enname:"Costa Rica",cnname:"哥斯达黎加",code:"+506",localname:"Costa Rica"},{id:"GD",enname:"Grenada",cnname:"格林纳达",code:"+1473",localname:"Grenada"},{id:"GL",enname:"Greenland",cnname:"格陵兰",code:"+299",localname:"Greenland"},{id:"GE",enname:"Georgia",cnname:"格鲁吉亚",code:"+995",localname:"საქართველო"},{id:"CU",enname:"Cuba",cnname:"古巴",code:"+53",localname:"Cuba"},{id:"GP",enname:"Guadeloupe",cnname:"瓜德罗普岛",code:"+590",localname:"Guadeloupe"},{id:"GU",enname:"Guam",cnname:"关岛",code:"+1671",localname:"Guam"},{id:"GY",enname:"Guyana",cnname:"圭亚那",code:"+592",localname:"Guyana"},{id:"KZ",enname:"Kazakhstan",cnname:"哈萨克斯坦",code:"+7",localname:"Россия"},{id:"HT",enname:"Haiti",cnname:"海地",code:"+509",localname:"Haïti"},{id:"KR",enname:"South Korea",cnname:"韩国",code:"+82",localname:"한국"},{id:"NL",enname:"Netherlands",cnname:"荷兰",code:"+31",localname:"Nederland"},{id:"AN",enname:"Netherlands Antilles",cnname:"荷属安的列斯群岛",code:"+599",localname:"Netherlands Antilles"},{id:"ME",enname:"Montenegro",cnname:"黑山",code:"+382",localname:"Црна Гора"},{id:"HN",enname:"Honduras",cnname:"洪都拉斯",code:"+504",localname:"Honduras"},{id:"DJ",enname:"Djibouti",cnname:"吉布提",code:"+253",localname:"Djibouti"},{id:"KG",enname:"Kyrgyzstan",cnname:"吉尔吉斯斯坦",code:"+996",localname:"Кыргызстан"},{id:"GN",enname:"Guinea",cnname:"几内亚",code:"+224",localname:"Guinée"},{id:"GW",enname:"Guinea-Bissau",cnname:"几内亚比绍",code:"+245",localname:""},{id:"CA",enname:"Canada",cnname:"加拿大",code:"+1",localname:"United States"},{id:"GH",enname:"Ghana",cnname:"加纳",code:"+233",localname:"Ghana"},{id:"GA",enname:"Gabon",cnname:"加蓬",code:"+241",localname:"Gabon"},{id:"KH",enname:"Cambodia",cnname:"柬埔寨",code:"+855",localname:"Kampuchea"},{id:"CZ",enname:"Czech Republic",cnname:"捷克共和国",code:"+420",localname:"Česko"},{id:"ZW",enname:"Zimbabwe",cnname:"津巴布韦",code:"+263",localname:"Zimbabwe"},{id:"CM",enname:"Cameroon",cnname:"喀麦隆",code:"+237",localname:"Cameroun"},{id:"QA",enname:"Qatar",cnname:"卡塔尔",code:"+974",localname:"The State of Qatar"},{id:"KY",enname:"Cayman Islands",cnname:"开曼群岛",code:"+1345",localname:"Cayman Islands"},{id:"KM",enname:"Comoros",cnname:"科摩罗",code:"+269",localname:"Comoros"},{id:"KW",enname:"Kuwait",cnname:"科威特",code:"+965",localname:"The State of Kuwait"},{id:"HR",enname:"Croatia",cnname:"克罗地亚",code:"+385",localname:"Hrvatska"},{id:"KE",enname:"Kenya",cnname:"肯尼亚",code:"+254",localname:"Kenya"},{id:"CK",enname:"Cook Islands",cnname:"库克群岛",code:"+682",localname:""},{id:"LV",enname:"Latvia",cnname:"拉脱维亚",code:"+371",localname:"Latvija"},{id:"LS",enname:"Lesotho",cnname:"莱索托",code:"+266",localname:"Lesotho"},{id:"LA",enname:"Laos",cnname:"老挝",code:"+856",localname:"ປະຊາຊົນສປປລາວ"},{id:"LB",enname:"Lebanon",cnname:"黎巴嫩",code:"+961",localname:"Republic of Lebanon"},{id:"LT",enname:"Lithuania",cnname:"立陶宛",code:"+370",localname:"Lietuva"},{id:"LR",enname:"Liberia",cnname:"利比里亚",code:"+231",localname:"Liberia"},{id:"LY",enname:"Libya",cnname:"利比亚",code:"+218",localname:"State of Libya"},{id:"LI",enname:"Liechtenstein",cnname:"列支敦士登",code:"+423",localname:"Liechtenstein"},{id:"RE",enname:"RÃ©union Island",cnname:"留尼旺岛",code:"+262",localname:"Réunion"},{id:"LU",enname:"Luxembourg",cnname:"卢森堡",code:"+352",localname:"Lëtzebuerg"},{id:"RW",enname:"Rwanda",cnname:"卢旺达",code:"+250",localname:"Rwanda"},{id:"RO",enname:"Romania",cnname:"罗马尼亚",code:"+40",localname:"România"},{id:"MG",enname:"Madagascar",cnname:"马达加斯加",code:"+261",localname:"Madagasikara"},{id:"MV",enname:"Maldives",cnname:"马尔代夫",code:"+960",localname:""},{id:"MT",enname:"Malta",cnname:"马耳他",code:"+356",localname:"Malta"},{id:"MW",enname:"Malawi",cnname:"马拉维",code:"+265",localname:"Malawi"},{id:"MY",enname:"Malaysia",cnname:"马来西亚",code:"+60",localname:"Malaysia"},{id:"ML",enname:"Mali",cnname:"马里",code:"+223",localname:"Mali"},{id:"MK",enname:"Macedonia",cnname:"马其顿",code:"+389",localname:"Македонија"},{id:"MQ",enname:"Martinique",cnname:"马提尼克",code:"+596",localname:"Martinique"},{id:"MU",enname:"Mauritius",cnname:"毛里求斯",code:"+230",localname:"Mauritius"},{id:"MR",enname:"Mauritania",cnname:"毛里塔尼亚",code:"+222",localname:"The Islamic Republic of Mauritania"},{id:"US",enname:"United States",cnname:"美国",code:"+1",localname:"United States"},{id:"MN",enname:"Mongolia",cnname:"蒙古",code:"+976",localname:"Монгол Улс"},{id:"MS",enname:"Montserrat",cnname:"蒙特塞拉特",code:"+1664",localname:"Montserrat"},{id:"BD",enname:"Bangladesh",cnname:"孟加拉国",code:"+880",localname:"বাংলাদেশ"},{id:"PE",enname:"Peru",cnname:"秘鲁",code:"+51",localname:"Perú"},{id:"MD",enname:"Moldova",cnname:"摩尔多瓦",code:"+373",localname:"Moldova"},{id:"MA",enname:"Morocco",cnname:"摩洛哥",code:"+212",localname:"The Kingdom of Morocco"},{id:"MC",enname:"Monaco",cnname:"摩纳哥",code:"+377",localname:"Monaco"},{id:"MZ",enname:"Mozambique",cnname:"莫桑比克",code:"+258",localname:"Moçambique"},{id:"MX",enname:"Mexico",cnname:"墨西哥",code:"+52",localname:"México"},{id:"NA",enname:"Namibia",cnname:"纳米比亚",code:"+264",localname:"Namibia"},{id:"ZA",enname:"South Africa",cnname:"南非",code:"+27",localname:"South Africa"},{id:"SS",enname:"South Sudan",cnname:"南苏丹",code:"+211",localname:""},{id:"NP",enname:"Nepal",cnname:"尼泊尔",code:"+977",localname:"नेपाल"},{id:"NI",enname:"Nicaragua",cnname:"尼加拉瓜",code:"+505",localname:"Nicaragua"},{id:"NE",enname:"Niger",cnname:"尼日尔",code:"+227",localname:"Niger"},{id:"NG",enname:"Nigeria",cnname:"尼日利亚",code:"+234",localname:"Nigeria"},{id:"NO",enname:"Norway",cnname:"挪威",code:"+47",localname:"Norge"},{id:"PT",enname:"Portugal",cnname:"葡萄牙",code:"+351",localname:"Portugal"},{id:"JP",enname:"Japan",cnname:"日本",code:"+81",localname:"にっぽんこく，にほんこく"},{id:"SE",enname:"Sweden",cnname:"瑞典",code:"+46",localname:"Sverige"},{id:"CH",enname:"Switzerland",cnname:"瑞士",code:"+41",localname:"Schweiz"},{id:"SV",enname:"El Salvador",cnname:"萨尔瓦多",code:"+503",localname:"El Salvador"},{id:"WS",enname:"Samoa",cnname:"萨摩亚",code:"+685",localname:"Samoa"},{id:"RS",enname:"Serbia",cnname:"塞尔维亚",code:"+381",localname:"Србија"},{id:"SL",enname:"Sierra Leone",cnname:"塞拉利昂",code:"+232",localname:"Sierra Leone"},{id:"SN",enname:"Senegal",cnname:"塞内加尔",code:"+221",localname:"Sénégal"},{id:"CY",enname:"Cyprus",cnname:"塞浦路斯",code:"+357",localname:"Κυπρος"},{id:"SC",enname:"Seychelles",cnname:"塞舌尔",code:"+248",localname:"Seychelles"},{id:"SA",enname:"Saudi Arabia",cnname:"沙特阿拉伯",code:"+966",localname:""},{id:"ST",enname:"Sao Tome and Principe",cnname:"圣多美和普林西比",code:"+239",localname:""},{id:"KN",enname:"Saint Kitts and Nevis",cnname:"圣基茨和尼维斯",code:"+1869",localname:"Saint Kitts and Nevis"},{id:"LC",enname:"Saint Lucia",cnname:"圣卢西亚",code:"+1758",localname:"Saint Lucia"},{id:"SM",enname:"San Marino",cnname:"圣马力诺",code:"+378",localname:"San Marino"},{id:"PM",enname:"Saint Pierre and Miquelon",cnname:"圣皮埃尔和密克隆群岛",code:"+508",localname:"Saint Pierre and Miquelon"},{id:"VC",enname:"Saint Vincent and The Grenadines",cnname:"圣文森特和格林纳丁斯",code:"+1784",localname:"Saint Vincent and the Grenadines"},{id:"LK",enname:"Sri Lanka",cnname:"斯里兰卡",code:"+94",localname:"Sri Lanka"},{id:"SK",enname:"Slovakia",cnname:"斯洛伐克",code:"+421",localname:"Slovensko"},{id:"SI",enname:"Slovenia",cnname:"斯洛文尼亚",code:"+386",localname:"Slovenija"},{id:"SZ",enname:"Swaziland",cnname:"斯威士兰",code:"+268",localname:"Swaziland"},{id:"SD",enname:"Sudan",cnname:"苏丹",code:"+249",localname:"Republic of the Sudan"},{id:"SR",enname:"Suriname",cnname:"苏里南",code:"+597",localname:"Suriname"},{id:"SO",enname:"Somalia",cnname:"索马里",code:"+252",localname:"Soomaaliya"},{id:"TJ",enname:"Tajikistan",cnname:"塔吉克斯坦",code:"+992",localname:"Тоҷикистон"},{id:"TW",enname:"Taiwan",cnname:"台湾地区",code:"+886",localname:"台灣"},{id:"TH",enname:"Thailand",cnname:"泰国",code:"+66",localname:"ราชอาณาจักรไทย"},{id:"TZ",enname:"Tanzania",cnname:"坦桑尼亚",code:"+255",localname:"Tanzania"},{id:"TO",enname:"Tonga",cnname:"汤加",code:"+676",localname:"Tonga"},{id:"TC",enname:"Turks and Caicos Islands",cnname:"特克斯和凯科斯群岛›",code:"+1649",localname:"Turks and Caicos Islands"},{id:"TT",enname:"Trinidad and Tobago",cnname:"特里尼达和多巴哥",code:"+1868",localname:"Trinidad and Tobago"},{id:"TN",enname:"Tunisia",cnname:"突尼斯",code:"+216",localname:"The Republic of Tunisia"},{id:"TR",enname:"Turkey",cnname:"土耳其",code:"+90",localname:"Türkiye"},{id:"TM",enname:"Turkmenistan",cnname:"土库曼斯坦",code:"+993",localname:"Türkmenistan"},{id:"VU",enname:"Vanuatu",cnname:"瓦努阿图",code:"+678",localname:"Vanuatu"},{id:"GT",enname:"Guatemala",cnname:"危地马拉",code:"+502",localname:"Guatemala"},{id:"VE",enname:"Venezuela",cnname:"委内瑞拉",code:"+58",localname:"Venezuela"},{id:"BN",enname:"Brunei",cnname:"文莱",code:"+673",localname:"Brunei Darussalam"},{id:"UG",enname:"Uganda",cnname:"乌干达",code:"+256",localname:"Uganda"},{id:"UA",enname:"Ukraine",cnname:"乌克兰",code:"+380",localname:"Україна"},{id:"UY",enname:"Uruguay",cnname:"乌拉圭",code:"+598",localname:"Uruguay"},{id:"UZ",enname:"Uzbekistan",cnname:"乌兹别克斯坦",code:"+998",localname:"O'zbekiston"},{id:"ES",enname:"Spain",cnname:"西班牙",code:"+34",localname:"España"},{id:"GR",enname:"Greece",cnname:"希腊",code:"+30",localname:"Ελλάς"},{id:"HK",enname:"Hong Kong",cnname:"香港地区",code:"+852",localname:"Hong Kong"},{id:"CI",enname:"Ivory Coast",cnname:"象牙海岸",code:"+225",localname:"Côte d'Ivoire"},{id:"SG",enname:"Singapore",cnname:"新加坡",code:"+65",localname:"Singapura"},{id:"NC",enname:"New Caledonia",cnname:"新喀里多尼亚",code:"+687",localname:"New Caledonia"},{id:"NZ",enname:"New Zealand",cnname:"新西兰",code:"+64",localname:"New Zealand"},{id:"HU",enname:"Hungary",cnname:"匈牙利",code:"+36",localname:"Magyarország"},{id:"SY",enname:"Syria",cnname:"叙利亚",code:"+963",localname:"The Syrian Arab Republic"},{id:"JM",enname:"Jamaica",cnname:"牙买加",code:"+1876",localname:"Jamaica"},{id:"AM",enname:"Armenia",cnname:"亚美尼亚",code:"+374",localname:"Հայաստան"},{id:"YE",enname:"Yemen",cnname:"也门",code:"+967",localname:""},{id:"IQ",enname:"Iraq",cnname:"伊拉克",code:"+964",localname:"Republic Of Iraq"},{id:"IR",enname:"Iran",cnname:"伊朗",code:"+98",localname:"The Islamic Republic of Iran"},{id:"IL",enname:"Israel",cnname:"以色列",code:"+972",localname:"State of Israel"},{id:"IT",enname:"Italy",cnname:"意大利",code:"+39",localname:"Italia"},{id:"IN",enname:"India",cnname:"印度",code:"+91",localname:"India"},{id:"ID",enname:"Indonesia",cnname:"印尼",code:"+62",localname:"Indonesia"},{id:"GB",enname:"United Kingdom",cnname:"英国",code:"+44",localname:"United Kingdom"},{id:"VG",enname:"Virgin Islands, British",cnname:"英属维尔京群岛",code:"+1340",localname:"U.S. Virgin Islands"},{id:"JO",enname:"Jordan",cnname:"约旦",code:"+962",localname:"The Hashemite Kingdom of Jordan"},{id:"VN",enname:"Vietnam",cnname:"越南",code:"+84",localname:"Việt Nam"},{id:"ZM",enname:"Zambia",cnname:"赞比亚",code:"+260",localname:"Zambia"},{id:"JE",enname:"Jersey",cnname:"泽西岛",code:"+44",localname:"United Kingdom"},{id:"TD",enname:"Chad",cnname:"乍得",code:"+235",localname:"Tchad"},{id:"GI",enname:"Gibraltar",cnname:"直布罗陀",code:"+350",localname:"Gibraltar"},{id:"CL",enname:"Chile",cnname:"智利",code:"+56",localname:"Chile"},{id:"CF",enname:"Central African Republic",cnname:"中非共和国",code:"+236",localname:"République Centrafricaine"}]};$.fn.itl=function(j){var o=$.extend({},b,j),d=$(this),h=null,g=0;var k=a.results,e="";h=$("<div class='itlSelect' style='"+(!g&&"display:none;")+"'></div>");for(var l=0,m=k.length;l<m;l++){var n=(k[l].localname)?"("+k[l].localname+")":"",f=o.codeMode.replace("x",k[l].code-0);e+="<a href='#' class='flag-"+k[l].id+"' data-code='"+f+"'><em>&nbsp;</em>"+k[l].cnname+n+" "+k[l].code+"</a>"}h.html(e);$(document.body).append(h);h.delegate("a","click",function(s){s.preventDefault();var q=$(s.currentTarget),p=c.find(".itlFlag"),t=c.find("input").eq(0),i=q.attr("class"),r=q.attr("data-code");p.attr("class","itlFlag "+i);t.val(r);h.hide();g=0;c.trigger("itlChange")});d.find("input").on("blur",function(){h.hide()});d.each(function(){var p=$(this),q=p.find("input"),i=o.height-0||p.innerHeight();!q.val()&&q.val(o.codeMode.replace("x",o.code-0));p.get(0).style.paddingLeft=o.width+"px";p.append(['<div class="itl" style="width:'+o.width+"px;height:"+i+"px;line-height:"+i+'px;">','<div class="itlFlag flag-'+(o.flag)+'"><em>&nbsp;</em></div>',"</div>"].join(""))});d.delegate(".itl .itlFlag","click",function(q){var i=$(this).parents(".itl");c=i.parent();var r=c.offset(),p=o.optWidth-0||c.innerWidth();if(r.left!==o.optLeft||r.top+c.innerHeight()!==o.optTop){o.optTop=r.top+c.innerHeight();o.optLeft=r.left;h.attr("style","top:"+o.optTop+"px;left:"+o.optLeft+"px;width:"+p+"px;height:"+o.optHeight+"px;");g=1}else{(g^=1)?h.show():h.hide()}});$(document).bind("click",function(p){var i=$(p.target);if(i.parents(".itlSelect").length||i.parents(".itl").length||$("body").find(".itl").length){return}h&&h.length&&h.hide();g=0});return d};$.fn.unItl=function(){}});Namespaces.create("com.netease.mail.unireg.register.main.RemindUtils",function(){var b=com.netease.mail.common.StringUtils;var c={success:'<div id="m_$fieldId$" class="tips"><span class="txt-succ"><b class="ico ico-suc-sml"></b>&nbsp;&nbsp;$msg$</span></div>',error:'<div id="m_$fieldId$" class="tips"><span class="txt-err"><b class="ico ico-warn-sml"></b>&nbsp;&nbsp;$msg$</a></span></div>'};var a={error:function(d){$("#"+d+"Ipt").addClass("ipt-err")}};this.showRemind=function(f,e,g){var d=$("#"+e+"Tips");this.hideRemind(e);d.after(b.merge(c[f],{fieldId:e,msg:g}));var h=a[f];if(h){h(e)}d.hide()};this.hideRemind=function(d){$("#m_"+d).remove();$("#"+d+"Tips").show();$("#"+d+"Ipt").removeClass("ipt-err")}});Namespaces.create("com.netease.mail.unireg.register.main.AddMobile",function(){var e=com.netease.mail.unireg.register.main.RemindUtils;var h=com.netease.mail.unireg.register.common.CheckUtils;var i=false;var d=false;var l="";var m=false;var k="";var c=false;var b=false;function a(){$("#vcodeImg").attr("src","/unireg/call.do?cmd=register.verifyCode&v=common/verifycode/vc_en&vt=main_acode&t="+new Date().getTime())}function f(n){if(l){window.clearInterval(k)}b=false;$("#mainMobileIpt").attr("disabled",true);$("#sendMainAcodeStg").html(n);$("#sendMainAcodeBtn").attr("class","btn-disable");$("#sendMainAcodeBtn").unbind("click");$("#sendMainAcodeBtn").bind("click",function(){return false});$("#sendMainAcodeBtn").click(function(){return false})}function j(q,n){var o=this;if(!b&&!l){b=true;var p=q||"免费获取验证码";$("#mainMobileIpt").removeAttr("disabled");$("#acodeMainSentSpan").hide();$("#sendMainAcodeBtn").attr("class","btn");$("#sendMainAcodeStg").html(p);$("#sendMainAcodeBtn").unbind("click");$("#sendMainAcodeBtn").click(function(){o.sendMainAcode();return false})}}function g(o,n){if(l){return}l=true;f("60秒后可重新获取验证码");$("#acodeMainSentSpan").show();k=window.setInterval(function(){if(--n==0){l=false;j('免费获取验证码<font color="#999">（今天剩余'+o+"次 ）</font>");a();window.clearInterval(k)}else{$("#sendMainAcodeBtn").unbind("click");$("#sendMainAcodeStg").html(n+"秒后可重新获取验证码")}},1000)}this.returnAcodeFlag=function(){return c};this.sendMainAcode=function(n){var r=n||$.trim($("#nameIpt").val());var p=$("#mainDomainSelect").val();var q=$.trim($("#mainMobileIpt").val());var o=r+"@"+p;var s=$.trim($("#vcodeIpt").val());if(q==""){e.showRemind("error","mainMobile","请填写手机号码");return false}if(r==""||r=="建议用手机号码注册"){e.showRemind("error","name","请填写邮箱地址");return false}if(s==""){e.showRemind("error","vcode","请输入验证码");return false}f("发送中...");$.ajax({url:"/unireg/call.do?cmd=added.mobileverify.sendIntAcode",type:"POST",data:{mobile:q,uid:o,mark:"main_start",vcode:s},success:function(u,v,t){switch(t.status){case 200:switch(u.code){case 200:c=true;g(u.msg,60);break;case 202:j();e.showRemind("error","name","该邮件地址已存在，不能再注册");break;case 301:j();e.showRemind("error","mainMobile","请填写有效的11位手机号码");break;case 401:switch(u.msg){case"NO_VCODE":e.showRemind("error","vcode","请先填写图片验证码");$("#mVcodeImg").click();j();break;case"VCODE_NOT_MATCH":e.showRemind("error","vcode","验证码不正确，请重新填写");$("#vcodeImg").click();j();break;default:$("#sendMainAcodeStg").html("每天只能获取3次验证短信");e.showRemind("error","mainAcode","发送次数达到当天限制");$("#mainMobileIpt").removeAttr("disabled");break}break;default:break}break}}})};this.itlPhone=function(){$(".itlPhone").itl({flag:"CN",code:"+86",width:35,height:27,codeMode:"+x-"})}});Namespaces.create("com.netease.mail.unireg.register.main.Start",function(){var Q="main";var f=this;var n=com.netease.mail.common.StringUtils;var w=com.netease.mail.common.RequestUtils;var r=com.netease.mail.unireg.register.common.CheckUtils;var L=com.netease.mail.unireg.register.common.VerifyUtils;var b=com.netease.mail.unireg.register.common.FormLogger;var d=com.netease.mail.unireg.register.main.RemindUtils;var P=com.netease.mail.unireg.register.main.AddMobile;var m;var i;var k={};var y=null;var I=null;var R={};var j={name:false,pwd:false,cfmPwd:false,mobile:true,vcode:false,accept:true,acode:false,mobile:false};var E;var K;var z;var a;var u;var h;var c={disable:'<li class="disable"><label><input name="candName" type="radio"/>$name$@$domain$</label><span class="extInfo">(已被注册)</span></li>',vip163:'<li><label><input type="radio" style="visibility:hidden"/><b class="ico-vip"></b><a onclick="_Global.main.turnToVip(\'$name$\',\'$domain$\',\'vip163\');">$name$@$domain$</a></label><span class="extInfo">(特权邮箱，付费)</span></li>',vip126:'<li><label><input type="radio" style="visibility:hidden"/><b class="ico-vip"></b><a onclick="_Global.main.turnToVip(\'$name$\',\'$domain$\',\'vip126\');">$name$@$domain$</a></label><span class="extInfo">(特权邮箱，付费)</span></li>',vip188:'<li><label><input type="radio" style="visibility:hidden"/><b class="ico-vip"></b><a onclick="_Global.main.turnToVip(\'$name$\',\'$domain$\',\'vip126\');">$name$@$domain$</a></label><span class="extInfo">(特权邮箱，付费)</span></li>',free:'<li><label onclick="_Global.main.selectCandidate(\'$name$\',\'$domain$\');"><input name="candName" type="radio"/>$name$<span class="txt-succ">@$domain$</span></label><span class="extInfo">(可以注册)</span></li>'};var g;function F(){for(var V in j){if(!j[V]){return false}}return true}function q(V){y=V;I=V;R[V]=new Date().getTime();k[V]=false;j[V]=false}function J(W,V){y=null;if(k[W]&&R[W]){var X=$.extend({opt:"write_field",flow:Q,field:W},V);X.timecost=new Date().getTime()-R[W];b.info(X)}R[W]=false}this.selectCandidate=function(V,W){j.name=true;H();O(W)};this.turnToVip=function(V,X,W){b.info({opt:"trun_to_vip",name:V,domain:X,vipDomain:W});switch(W){case"vip163":window.location.href="http://reg.vip.163.com/register.m?b09bqa1&from=fmail_reg&pageReg=1&username="+V;break;case"vip126":window.location.href="http://reg.vip.126.com/register.m?b09bqa1&from=fmail_reg&pageReg=1&username="+V;break;case"vip188":window.location.href="http://reg.mail.188.com/servlet/regist?b12bqa1&from=fmail_reg&pageReg=1&username="+V;break;default:window.location.href="http://reg.vip.163.com/register.m?b09bqa1&from=fmail_reg&pageReg=1&username="+V;break}};function S(V,W){$("#conflictOthersDiv").show();$("#conflictOthers").append(n.merge(c[V],W))}function T(Y,X){var W=X["163.com"];var V=X["126.com"];var Z=X["yeah.net"];if(W){S("free",{name:Y,domain:"163.com"})}if(V){S("free",{name:Y,domain:"126.com"})}if(Z){S("free",{name:Y,domain:"yeah.net"})}if(!W){S("disable",{name:Y,domain:"163.com"})}if(!V){S("disable",{name:Y,domain:"126.com"})}if(!Z){S("disable",{name:Y,domain:"yeah.net"})}switch(z){case"163.com":case"yeah.net":if(X.vip163){S("vip163",{name:Y,domain:"vip.163.com"})}else{if(X.vip126){S("vip126",{name:Y,domain:"vip.126.com"})}else{if(X.vip188){S("vip188",{name:Y,domain:"188.com"})}}}break;case"126.com":if(X.vip126){S("vip126",{name:Y,domain:"vip.126.com"})}else{if(X.vip163){S("vip163",{name:Y,domain:"vip.163.com"})}else{if(X.vip188){S("vip188",{name:Y,domain:"188.com"})}}}}}function D(){if(!g){}}function H(){$("#conflictDiv").hide();$("#nameTips").show()}function U(X,V,W){d.hideRemind("nameTips");$("#nameTips").hide();$("#conflictOthersDiv").hide();$("#conflictOthers > li").remove();if(V){$("#conflictTitle").attr("class","txt-succ txt-14")}else{$("#conflictTitle").attr("class","txt-impt txt-14")}if(W){$("#conflictMobile").hide()}else{$("#conflictMobile").show()}$("#conflictTitle").html(X);$("#conflictDiv").show()}function G(Y,X,V){var W=V||{};switch(Y){case"numberstart":U("邮件地址必需以英文字母开头");switch(z){case"163.com":case"yeah.net":if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}}break;case"126.com":if(W.vip126){S("vip163",{name:X,domain:"vip.126.com"})}else{if(W.vip163){S("vip126",{name:X,domain:"vip.163.com"})}}}break;case"allnumber":U("邮件地址必需以英文字母开头");if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}break;case"wrongchar":U("邮件地址需由字母、数字或下划线组成");switch(z){case"163.com":case"yeah.net":if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break;case"126.com":if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break}break;case"longname":U("长度应为6~18个字符");if(X.length<=20){switch(z){case"163.com":case"yeah.net":if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break;case"126.com":if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break}break}case"shortname":U("长度应为6~18个字符");switch(z){case"163.com":case"yeah.net":if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break;case"126.com":if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break}break;case"alloccupy":U("该邮件地址已被注册");T(X,W);break;case"freealloccupy":U("该邮件地址已被注册");switch(z){case"163.com":case"yeah.net":if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break;case"126.com":if(W.vip126){S("vip126",{name:X,domain:"vip.126.com"})}else{if(W.vip163){S("vip163",{name:X,domain:"vip.163.com"})}else{if(W.vip188){S("vip188",{name:X,domain:"188.com"})}}}break}T(X,W);break;case"freesomeoccupy":U("该邮件地址已被注册");T(X,W);break}}function p(W,V){r.backendCheckName(V,function(X){switch(X.code){case 200:G(W,V,X.result);break;default:o("gray");break}})}function o(V){switch(V){case"gray":window.location.href="http://mail.163.com/dashi/activity/reg/gray.do?from=busy";break;default:window.location.href="http://mail.163.com/dashi/activity/reg/gray.do?from=busy";break}}function O(W){z=W;var V=E[z];$("#vcodeImg").attr("src",V.src+K+new Date().getTime());$("#vcodeIpt").css("width",V.iptwidth+"px");$("#vcodeImg").attr("width",V.imgwidth);$("#vcodeImg").attr("height",V.imgheight);$("#vRemind").html(V.tips);V.callback();t(W)}function t(V){switch(V){case"163.com":$("#mainDomainSelect option:nth-child(1)").attr("selected","selected");break;case"126.com":$("#mainDomainSelect option:nth-child(2)").attr("selected","selected");break;default:$("#mainDomainSelect option:nth-child(3)").attr("selected","selected");break}}function C(Y,W){var V=n.fLen(Y);var X=r.checkPasswordStrength(Y);if(-1==X){$("#mainPwdStatus").hide();if(!W){d.showRemind("error","mainPwd","密码必需由英文字母、数字或特殊符号组成")}return}if(V<6){if(V==0){d.hideRemind("mainPwd");d.hideRemind("mainCfmPwd")}$("#mainPwdStatus").hide();return}if(V>16){$("#mainPwdStatus").hide();if(!W){d.showRemind("error","mainPwd","密码长度应为6~16个字符")}return}$("#mainPwdStatus ").show();d.hideRemind("mainPwd");switch(X){case 2:$("#mainPwdStatus").attr("class","pswState pswState-normal");break;case 3:case 4:$("#mainPwdStatus").attr("class","pswState pswState-strong");break;default:$("#mainPwdStatus").attr("class","pswState pswState-poor");break}}function l(){$("#vcodeImg").attr("src",E[z].src+K+new Date().getTime());$("#vcodeIpt").val("");j.vcode=false}this.initEnv=function(V){K="&env="+L.__$0(V)+"&t="};this.recover=function(){l();A();$("#nameIpt").blur()};function N(V){return""==V||h==V}function M(V){r.backendCheckName(V,function(X){switch(X.code){case 200:var W=X.result;if(!W){G("alloccupy",V,W)}else{if(W[z]){H();d.showRemind("success","name","恭喜，该邮件地址可注册");j.name=true}else{if(W["163.com"]||W["126.com"]||W["yeah.net"]||W.vip163||W.vip126||W.vip188){G("freesomeoccupy",V,W)}}}break;default:o("gray");break}})}var e={name:function(V){var X="regForm-item mainBody-hasFocus-focusArea";var W=X+" regForm-item-focus";$("#nameIpt").bind("focus",function(){D();q("name");H();$("#nameDl").attr("class",W);$("#mMaskD > .m-mask").hide();x(true);d.hideRemind("name");return false}).bind("mouseover",function(){$("#nameDl").attr("class",W);return false}).bind("mouseout",function(){if(y!="name"){$("#nameDl").attr("class",X)}return false}).bind("keyup",function(Y){if(Y.keyCode==13){$("#nameIpt").blur();return false}k.name=true;var Z=$.trim($("#nameIpt").val());if(Z==""){d.hideRemind("name");H()}return false}).bind("blur",function(){$("#nameDl").attr("class",X);d.hideRemind("name");var ab=$.trim($("#nameIpt").val());if(N(ab)){J("name",{result:"empty"});return false}ab=n.toDBC(ab);$("#nameIpt").val(ab);var aa=$.trim($("#mainPwdIpt").val());if(aa==ab){J("name",{result:"eqpwd"});d.showRemind("error","name","用户名和密码不能完全相同");return false}var Z=r.checkName(ab);var Y="done";switch(Z){case 1:M(ab);break;case -1:Y="numberstart";p(Y,ab);break;case -2:Y="tooshort";U("长度应为6~18个字符");break;case -3:Y="wrongchar";p(Y,ab);break;case -4:Y="wrongstart";U("邮件地址必需以英文字母开头");break;case -5:Y="wrongend";U("请以英文字母或数字结尾");break;case -6:Y="toolong";U("长度应为6~18个字符");break;case -7:Y="allnumber";p(Y,ab);break;case -8:Y="mobilename";U('您填写的是手机号码，将为您注册手机号码邮箱，免费享受更多贴心服务。<br/><br/><a href="javascript:void(0);" onclick="_Global.mobile.turnOn(\''+ab+"','mobilename');$('#mMaskD > .m-mask').hide();return false;\" class=\"btnSml\" hidefocus=\"true\">继&nbsp;&nbsp;&nbsp;续</a>",true,true);$("#mMaskD > .m-mask").show();x(false);break;case -9:Y="longname";p(Y,ab);break;case -10:Y="shortname";p(Y,ab);break}var ac=ab+"@"+z;J("name",{result:Y,uid:ac});return false})},vcode:function(V){E=V.vmap;f.initEnv(V.envalue);O(V.currDomain);$("#vcodeImg,#vcodeA").click(function(){l();return false});var W="regForm-item-focus";var Y="regForm-item-focusImpt";var X=Y+" "+W;$("#vcodeIpt").bind("blur",function(){$("#vcodeDl").removeClass(X);var aa=$.trim($("#vcodeIpt").val());var Z=r.checkVcode(aa);if(Z!=0){d.hideRemind("vcode");j.vcode=true;J("vcode",{result:"done"});aa=n.toDBC(aa);$("#vcodeIpt").val(aa)}else{J("vcode",{result:"empty"})}return false}).bind("keyup",function(Z){if(Z.keyCode==13){$("#vcodeIpt").blur();return false}k.vcode=true;return false}).bind("mouseover",function(){if(y!="vcode"){$("#vcodeDl").removeClass(X).addClass(W)}return false}).bind("mouseout",function(){if(y!="vcode"){$("#vcodeDl").removeClass(X)}return false}).bind("focus",function(){D();q("vcode");d.hideRemind("vcode");$("#vcodeDl").removeClass(X).addClass(Y)})},domain:function(V){$("#mainDomainSelect").bind("change",function(){O($(this).find("option:selected").val());$("#nameIpt").blur();return false})},itlPhone:function(){P.itlPhone()},acode:function(){$("#sendMainAcodeBtn").click(function(){P.sendMainAcode();return false});$("#mainMobileIpt").bind("focus",function(){q("acode");$("#acodeMainDl").attr("class","regForm-item regForm-item-focus");d.hideRemind("mainMobile");return false}).bind("blur",function(){$("#acodeMainDl").attr("class","regForm-item");var V=$.trim($("#mainMobileIpt").val());if(V!=""){var W={mobile:V};$.ajax({url:"/unireg/call.do?cmd=added.mobileverify.verifyIntMobileFormat",xhrFields:{withCredentials:true},type:"GET",data:W,success:function(Y,Z,X){if(Y&&Y.code){switch(Y.code){case 200:$("#acodeMainDl").attr("class","regForm-item regForm-item-focus");d.showRemind("success","mainMobile","手机号码可用");break;case 400:d.showRemind("error","mainMobile","请填写正确的手机号");break}}}})}return false}).bind("keyup",function(V){if(V.keyCode==13){$("#mainMobileIpt").blur();return false}return false}).bind("mouseout",function(){if(y!="acode"){$("#acodeMainDl").attr("class","regForm-item")}return false}).bind("mouseover",function(){$("#acodeMainDl").attr("class","regForm-item regForm-item-focus");return false});$("#mainAcodeIpt").bind("focus",function(){q("acode");$("#acodeMainDl").attr("class","regForm-item regForm-item-focus");d.hideRemind("mainAcode");return false}).bind("blur",function(){$("#acodeMainDl").attr("class","regForm-item");var V=$.trim($("#mainAcodeIpt").val());if(V!=""){J("acode",{result:"done"});j.acode=true;V=n.toDBC(V);$("#mainAcodeIpt").val(V);return false}else{if(P.returnAcodeFlag()){d.showRemind("error","mainAcode","请填写验证码")}}J("acode",{result:"empty"});return false}).bind("keyup",function(V){if(V.keyCode==13){$("#mainAcodeIpt").blur();return false}k.acode=true;return false}).bind("mouseout",function(){if(y!="acode"){$("#acodeMainDl").attr("class","regForm-item")}return false}).bind("mouseover",function(){$("#acodeMainDl").attr("class","regForm-item regForm-item-focus");return false})},password:function(){$("#mainPwdIpt").bind("focus",function(){D();q("pwd");$("#mainPwdDl").attr("class","regForm-item regForm-item-focus");d.hideRemind("mainPwd");C($.trim($("#mainPwdIpt").val()),true);return false}).bind("mouseover",function(){$("#mainPwdDl").attr("class","regForm-item regForm-item-focus");return false}).bind("mouseout",function(){if(y!="pwd"){$("#mainPwdDl").attr("class","regForm-item")}return false}).bind("keyup",function(V){if(V.keyCode==13){$("#mainPwdIpt").blur();return false}k.pwd=true;C(n.toDBC($.trim($("#mainPwdIpt").val())));return false}).bind("blur",function(){$("#mainPwdDl").attr("class","regForm-item");$("#mainPwdStatus").hide();var X=$.trim($("#mainPwdIpt").val());if(X==""){J("pwd",{result:"empty"});d.hideRemind("mainPwd");return false}X=n.toDBC(X);$("#mainPwdIpt").val(X);var W=$.trim($("#nameIpt").val());if(X.toUpperCase()==W.toUpperCase()){J("pwd",{result:"eqname"});d.showRemind("error","mainPwd","密码和用户名不能完全相同");return false}var Y={};var Z=r.checkPassword(X);switch(Z){case 1:j.pwd=true;var aa=r.checkPasswordStrength(X);switch(aa){case 1:d.showRemind("success","mainPwd","密码强度：弱");break;case 2:d.showRemind("success","mainPwd","密码强度：中");break;case 3:case 4:d.showRemind("success","mainPwd","密码强度：强");break;default:break}Y.result="done";Y.strength=aa;break;case -1:Y.result="tooshort";d.showRemind("error","mainPwd","密码长度应为6~16个字符");break;case -2:d.showRemind("error","mainPwd","密码长度应为6~16个字符");Y.result="toolong";break;case -3:d.showRemind("error","mainPwd","密码必需由英文字母、数字或特殊符号组成");Y.result="wrongchar";break;case -4:d.showRemind("error","mainPwd","密码过于简单，请尝试“字母+数字”的组合");Y.result="toosimple";break;default:break}J("pwd",Y);var V=$.trim($("#mainCfmPwdIpt").val());if(V!=""){$("#mainCfmPwdIpt").blur()}else{d.hideRemind("mainCfmPwd")}return false})},confirmPassword:function(){$("#mainCfmPwdIpt").bind("focus",function(){D();q("cfmPwd");$("#mainCfmPwdDl").attr("class","regForm-item regForm-item-focus");d.hideRemind("mainCfmPwd");return false}).bind("mouseover",function(){$("#mainCfmPwdDl").attr("class","regForm-item regForm-item-focus");return false}).bind("mouseout",function(){if(y!="cfmPwd"){$("#mainCfmPwdDl").attr("class","regForm-item")}return false}).bind("blur",function(X){$("#mainCfmPwdDl").attr("class","regForm-item");d.hideRemind("mainCfmPwd");var W=$.trim($("#mainPwdIpt").val());if(!j.pwd&&W!=""){return false}var V=$.trim($("#mainCfmPwdIpt").val());if(V==""){J("cfmPwd",{result:"empty"});if(W!=""){d.showRemind("error","mainCfmPwd","请再次填写密码");return false}d.hideRemind("mainCfmPwd");return false}V=n.toDBC(V);$("#mainCfmPwdIpt").val(V);if(V==W){d.showRemind("success","mainCfmPwd","");j.cfmPwd=true;J("cfmPwd",{result:"done"})}else{d.showRemind("error","mainCfmPwd","两次填写的密码不一致");J("cfmPwd",{result:"notmatch"})}return false}).bind("keyup",function(V){if(V.keyCode==13){$("#mainCfmPwdIpt").blur();return false}k.cfmPwd=true;return false})},accept:function(){$("#mainAcceptIpt").click(function(){if(!$("#mainAcceptIpt").attr("checked")){j.accept=false;d.showRemind("error","mainAccept","请接受服务条款")}else{j.accept=true;d.hideRemind("mainAccept")}})}};this.turnOn=function(V,W){if(_Global.locked){return}if(V&&W){z=W;switch(W){case"163.com":$("#mainDomainSelect option:nth-child(1)").attr("selected","selected");break;case"126.com":$("#mainDomainSelect option:nth-child(2)").attr("selected","selected");break;default:$("#mainDomainSelect option:nth-child(3)").attr("selected","selected");break}$("#nameIpt").val(V)}$("#vipAdds126").hide();$("#vipAdds163").hide();$("#adds").show();$("#nameIpt").blur();$("#regMobile").hide();$("#regVipFrame").hide();$("#regMain").show();$("#guideMobile").hide();$("#guideMain").show();$("#tabsUl").attr("class","tabs1-on");_Global.flow=this};this.init=function(W){if(typeof W.flow!="undefined"){Q=W.flow}for(var V in e){e[V](W)}m=W.from;i=W.forcedFlow;a=W.targetURL;u=W.sid;h=W.gw};function s(V,W){for(var X=0;X<V.length;X++){var Y=$("#"+V[X]);W?Y.removeAttr("disabled"):Y.attr("disabled","true")}}function x(V){s(["mainPwdIpt","mainCfmPwdIpt","mainMobileIpt","vcodeIpt","mainAcceptIpt"],V);if(V){$("#mainRegA").show();$("#mainRegA_d").hide()}else{$("#mainRegA").hide();$("#mainRegA_d").html("立即注册");$("#mainRegA_d").show()}}function A(V){var W=true;if(V){W=false;$("#mainRegA").hide();$("#mainRegA_d").html(V);$("#mainRegA_d").show()}else{$("#mainRegA").show();$("#mainRegA_d").hide()}s(["nameIpt","mainPwdIpt","mainCfmPwdIpt","mainMobileIpt","vcodeIpt","mainAcceptIpt"],W);_Global.locked=!W}this.handleMsg=function(V){switch(V.msg){case"INVALID NAME":d.showRemind("error","name","无效的用户名");j.name=false;break;case"ILLEGAL_UID":$("#nameIpt").blur();j.name=false;break;case"NAME_EQUALS_PASSWORD":d.showRemind("error","mainPwd","密码和用户名不能完全相同");j.pwd=false;break;case"NO_PASSWORD":$("#mainPwdIpt").blur();j.pwd=false;break;case"NAME EQUALS PASSWORD":case"PASSWORD TOO SIMPLE":d.showRemind("error","mainPwd","密码过于简单，请尝试“字母+数字”的组合");j.pwd=false;break;case"NO_CONFIRMED_PASSWORD":case"PASSWORD_NOT_MATCH":$("#mainCfwPwdIpt").blur();j.cfmPwd=false;break;case"INVALID MOBILE":d.showRemind("error","mainMobile","请填写有效的11位手机号码");j.mobile=false;break;case"BIND TOO MANY":d.showRemind("error","mainMobile","该手机号码已绑定5个帐号，请编辑短信“JC”发送到 10690163331，取消手机和所有帐号的绑定关系");j.mobile=false;break;case"VCODE_NOT_MATCH":d.showRemind("error","vcode","验证码不正确，请重新填写");if(V.result){f.initEnv(V.result)}$("#vcodeImg").click();j.vcode=false;break;case"INVALID_SUSPEND":case"REGISTER_NOT_FOUND":$("#overdueTips").show();break;case"ILLEGAL_VERIFY":d.showRemind("error","mainAcode","手机验证码不正确，请重新填写");break;default:$("#overdueTips").show();break}};this.fieldVal=function(V){switch(V){case"name":return $.trim($("#nameIpt").val());case"pwd":return $.trim($("#mainPwdIpt").val());case"cfmpwd":return $.trim($("#mainCfmPwdIpt").val());case"mobile":return $.trim($("#mainMobileIpt").val());case"vcode":return $.trim($("#vcodeIpt").val());default:return""}};var B=false;var v={};this.getStartParam=function(V){return v[V]};this.mainAcode=function(){P.sendMainAcode()};this.start=function(){var Z=$.trim($("#nameIpt").val());var aa=Z+"@"+z;var Y=$.trim($("#mainPwdIpt").val());var X=$.trim($("#mainCfmPwdIpt").val());var W=$.trim($("#mainMobileIpt").val());var ac=$.trim($("#vcodeIpt").val());var ab=$.trim($("#mainAcodeIpt").val());if(!j.name){if(N(Z)){d.showRemind("error","name","请填写邮件地址");return false}}if(!j.pwd){if(Y==""){d.showRemind("error","mainPwd","请填写密码");return false}}if(!j.cfmPwd){if(X==""){d.showRemind("error","mainCfmPwd","请再次填写密码");return false}}if(!j.vcode){if(ac==""){d.showRemind("error","vcode","请填写图片中的验证码");return false}}if(!j.acode){if(ab==""){d.showRemind("error","mainAcode","请填入手机验证码");return false}}if(!$("#mainAcceptIpt").attr("checked")){j.accept=false;d.showRemind("error","mainAccept","请接受服务条款");return false}A("处理中...");var V="https://ssl.mail.163.com/regall/unireg/call.do;jsessionid="+u+"?cmd=register.start";v={name:Z,flow:Q,uid:aa,password:Y,confirmPassword:X,mobile:W,vcode:ac,acode:ab,from:m};if(i){v.forcedFlow=i}if(w.supportCORS()){$.ajax({url:V,xhrFields:{withCredentials:true},type:"POST",data:v,success:function(ae,af,ad){f.handleStart(ae,ad.status)}})}else{w.formSubmit("submitForm",V+"&reforward=common/reform&targetCmd=register.ctrlTop","POST",v,{target:"submitFrame"})}};this.handleStart=function(W,V){switch(V){case 200:if(typeof W!="object"){W=$.parseJSON(W)}switch(W.code){case 200:B=true;com.netease.mail.unireg.register.common.LoginUtils.login("submitForm",v.name,z,v.password,"1",a);break;case 300:d.showRemind("error","mainAcode","请填入正确的手机验证码");$("#mainRegA").show();$("#mainRegA_d").html("立即注册");$("#mainRegA_d").hide();break;case 284:d.showRemind("error","mainMobile","保护名单中，不允许关联");$("#mainRegA").show();$("#mainRegA_d").html("立即注册");$("#mainRegA_d").hide();break;case 240:d.showRemind("error","mainMobile","手机号已经同时关联了15个帐号，不能再关联！");$("#mainRegA").show();$("#mainRegA_d").html("立即注册");$("#mainRegA_d").hide();break;case 241:d.showRemind("error","mainMobile","手机号一年内关联过的帐号已达到20个，不能再关联");$("#mainRegA").show();$("#mainRegA_d").html("立即注册");$("#mainRegA_d").hide();break;default:A();f.handleMsg(W);break}break;case 201:showSecondarySection(W);break;default:A();$("#overdueTips").show();break}};this.quit=function(){if(!B){b.info({opt:"quit_reg",flow:Q,lastField:I})}}});Namespaces.create("com.netease.mail.unireg.register.mobile.Start",function(){var O="mobile";var h=this;var p=com.netease.mail.common.StringUtils;var z=com.netease.mail.common.RequestUtils;var r=com.netease.mail.unireg.register.common.CheckUtils;var b=com.netease.mail.unireg.register.common.FormLogger;var f=com.netease.mail.unireg.register.main.RemindUtils;var n;var j;var m={};var A=null;var K=null;var P={};var M=false;var k={mobile:false,acode:false,pwd:false,cfmPwd:false,accept:true};var C;var a;var w;var B;var c;function I(){for(var R in k){if(!k[R]){return false}}return true}function q(R){A=R;K=R;P[R]=new Date().getTime();m[R]=false;k[R]=false}function L(S,R){A=null;if(m[S]&&P[S]){var T=$.extend({opt:"write_field",flow:O,field:S},R);T.timecost=new Date().getTime()-P[S];b.info(T)}P[S]=false}function G(U,S){var R=p.fLen(U);var T=r.checkPasswordStrength(U);if(-1==T){$("#mobilePwdStatus").hide();if(!S){f.showRemind("error","mainPwd","密码必需由英文字母、数字或特殊符号组成")}return}if(R<6){if(R==0){f.hideRemind("mobilePwd");f.hideRemind("mobileCfmPwd")}$("#mobilePwdStatus").hide();return}if(R>16){$("#mobilePwdStatus").hide();if(!S){f.showRemind("error","mobilePwd","密码长度应为6~16个字符")}return}$("#mobilePwdStatus ").show();f.hideRemind("mobilePwd");switch(T){case 2:$("#mobilePwdStatus").attr("class","pswState pswState-normal");break;case 3:case 4:$("#mobilePwdStatus").attr("class","pswState pswState-strong");break;default:$("#mobilePwdStatus").attr("class","pswState pswState-poor");break}}this.showRebind=function(R){if(R){$("#rebindSpan").html(R)}rebindPopup.show()};var d=false;var H=false;var t="163.com";function s(R){if(d){return}d=true;$.ajax({url:"/unireg/call.do?cmd=added.mobilemail.checkBinding",type:"POST",data:{mobile:R},success:function(V,W,T){d=false;var U=v;v=false;switch(T.status){case 200:switch(V.code){case 200:f.showRemind("success","mobile","该号码可注册");k.mobile=true;if(U){e(R)}break;case 201:H=true;t=C[V.result];var S="该号码已被激活";if(V.msg){S+="并与&nbsp;"+V.msg+"&nbsp;绑定"}S+="&nbsp;&nbsp;<a href='javascript:void(0);' onclick='_Global.mobile.showRebind(\""+R+"@"+t+"\");'>重新激活</a>";f.showRemind("error","mobile",S);break;case 202:f.showRemind("error","mobile","该邮件地址已存在，不能再注册");break;case 301:f.showRemind("error","mobile","请填写有效的11位手机号码");break;default:break}break;case 201:showSecondarySection(V);break;default:break}}})}var J;var Q=false;var i=true;function o(){$("#mVcodeImg").attr("src",c.src+"&t="+new Date().getTime());$("#mVcodeIpt").val("");k.vcode=false}function N(R){if(Q){window.clearInterval(J)}i=false;$("#mobileIpt").attr("disabled",true);$("#sendAcodeStg").html(R);$("#sendAcodeBtn").attr("class","btn-disable");$("#sendAcodeBtn").unbind("click");$("#sendAcodeBtn").click(function(){return false})}function E(S){if(!i&&!Q){i=true;var R=S||"免费获取验证码";$("#mobileIpt").removeAttr("disabled");$("#acodeSentSpan").hide();$("#sendAcodeBtn").attr("class","btn");$("#sendAcodeStg").html(R);$("#sendAcodeBtn").unbind("click");$("#sendAcodeBtn").click(function(){e();return false});o()}}function x(S,R){if(Q){return}Q=true;N("60秒后可重新获取验证码");$("#acodeSentSpan").show();J=window.setInterval(function(){if(--R==0){Q=false;E('免费获取验证码<font color="#999">（今天剩余'+S+"次 ）</font>");window.clearInterval(J)}else{$("#sendAcodeStg").html(R+"秒后可重新获取验证码")}},1000)}var v=false;function e(R){v=d;if(v){return}var T=R||$.trim($("#mobileIpt").val());if(!k.mobile){if(T==""){f.showRemind("error","mobile","请填写手机号码")}return}var S=T+"@"+t;if(H){h.showRebind(S);return}var U=$.trim($("#mVcodeIpt").val());N("发送中...");$.ajax({url:"/unireg/call.do?cmd=added.mobileverify.sendAcode",type:"POST",data:{mobile:T,uid:S,mark:"mobile_start",vcode:U},success:function(W,X,V){switch(V.status){case 200:switch(W.code){case 200:M=true;x(W.msg,60);break;case 201:N("每天只能获取3次验证短信");$("#acodeSentSpan").show();$("#mobileIpt").removeAttr("disabled");break;case 202:E();f.showRemind("error","mobile","该邮件地址已存在，不能再注册");break;case 301:E();f.showRemind("error","mobile","请填写有效的11位手机号码");break;case 401:switch(W.msg){case"NO_VCODE":f.showRemind("error","mVcode","请先填写图片验证码");$("#mVcodeImg").click();k.vcode=false;E();break;case"VCODE_NOT_MATCH":f.showRemind("error","mVcode","验证码不正确，请重新填写");$("#mVcodeImg").click();k.vcode=false;E();break;default:$("#sendAcodeStg").html("每天只能获取3次验证短信");f.showRemind("error","mobile","发送次数达到当天限制");$("#mobileIpt").removeAttr("disabled");break}break;default:E();f.showRemind("error","mobile","获取验证码失败");break}break;case 201:showSecondarySection(W);break;default:break}}})}this.initEnv=function(R){};this.recover=function(){$("#acodeIpt").val("");k.acode=false;D();E();$("#mobileIpt").blur()};var g={vcode:function(R){$("#mVcodeImg").attr("src",c.src+"&t="+new Date().getTime());$("#mVcodeIpt").css("width",c.iptwidth+"px");$("#mVcodeImg").attr("width",c.imgwidth);$("#mVcodeImg").attr("height",c.imgheight);$("#mVRemind").html(c.tips);c.callback();$("#mVcodeImg,#mVcodeA").click(function(){o();return false});var S="regForm-item-focus";var U="regForm-item-focusImpt";var T=U+" "+S;$("#mVcodeIpt").bind("blur",function(){$("#mVcodeDl").removeClass(T);var W=$.trim($("#mVcodeIpt").val());var V=r.checkVcode(W);if(V!=0){f.hideRemind("mVcode");k.vcode=true;L("vcode",{result:"done"});W=p.toDBC(W);$("#mVcodeIpt").val(W)}else{L("vcode",{result:"empty"})}return false}).bind("keyup",function(V){if(V.keyCode==13){$("#mVcodeIpt").blur();return false}m.vcode=true;return false}).bind("mouseover",function(){if(A!="vcode"){$("#mVcodeDl").removeClass(T).addClass(S)}return false}).bind("mouseout",function(){if(A!="vcode"){$("#mVcodeDl").removeClass(T)}return false}).bind("focus",function(){q("vcode");f.hideRemind("mVcode");$("#mVcode").removeClass(T).addClass(U)})},acode:function(){$("#sendAcodeBtn").click(function(){e();return false});$("#acodeIpt").bind("focus",function(){q("acode");$("#acodeDl").attr("class","regForm-item regForm-item-focus");f.hideRemind("acode");return false}).bind("blur",function(){$("#acodeDl").attr("class","regForm-item");var R=$.trim($("#acodeIpt").val());if(R!=""){L("acode",{result:"done"});k.acode=true;R=p.toDBC(R);$("#acodeIpt").val(R);return false}else{if(M){f.showRemind("error","acode","请填写验证码")}}L("acode",{result:"empty"});return false}).bind("keyup",function(R){if(R.keyCode==13){$("#acodeIpt").blur();return false}m.acode=true;return false}).bind("mouseout",function(){if(A!="acode"){$("#acodeDl").attr("class","regForm-item")}return false}).bind("mouseover",function(){$("#acodeDl").attr("class","regForm-item regForm-item-focus");return false})},password:function(){$("#mobilePwdIpt").bind("focus",function(){q("pwd");$("#mobilePwdDl").attr("class","regForm-item regForm-item-focus");f.hideRemind("mobilePwd");G($.trim($("#mobilePwdIpt").val()),true);return false}).bind("mouseover",function(){$("#mobilePwdDl").attr("class","regForm-item regForm-item-focus");return false}).bind("mouseout",function(){if(A!="pwd"){$("#mobilePwdDl").attr("class","regForm-item")}return false}).bind("keyup",function(R){if(R.keyCode==13){$("#mobilePwdIpt").blur();return false}m.pwd=true;G(p.toDBC($.trim($("#mobilePwdIpt").val())));return false}).bind("blur",function(){$("#mobilePwdDl").attr("class","regForm-item");$("#mobilePwdStatus").hide();var T=$.trim($("#mobilePwdIpt").val());if(T==""){f.hideRemind("mobilePwd");L("pwd",{result:"empty"});return false}T=p.toDBC(T);$("#mobilePwdIpt").val(T);var S=$.trim($("#mobileIpt").val());if(T.toUpperCase()==S.toUpperCase()){f.showRemind("error","mobilePwd","密码和用户名不能完全相同");L("pwd",{result:"eqmobile"});return false}var U={};var V=r.checkPassword(T);switch(V){case 1:k.pwd=true;var W=r.checkPasswordStrength(T);switch(W){case 1:f.showRemind("success","mobilePwd","密码强度：弱");break;case 2:f.showRemind("success","mobilePwd","密码强度：中");break;case 3:case 4:f.showRemind("success","mobilePwd","密码强度：强");break;default:break}U.result="done";U.strength=W;break;case -1:U.result="tooshort";f.showRemind("error","mobilePwd","密码长度应为6~16个字符");break;case -2:f.showRemind("error","mobilePwd","密码长度应为6~16个字符");U.result="toolong";break;case -3:f.showRemind("error","mobilePwd","密码必需由英文字母、数字或特殊符号组成");U.result="wrongchar";break;case -4:f.showRemind("error","mobilePwd","密码过于简单，请尝试“字母+数字”的组合");U.result="toosimple";break;default:break}L("pwd",U);var R=$.trim($("#mobileCfmPwdIpt").val());if(R!=""){$("#mobileCfmPwdIpt").blur()}else{f.hideRemind("mobileCfmPwd")}return false})},confirmPassword:function(){$("#mobileCfmPwdIpt").bind("focus",function(){q("cfmPwd");$("#mobileCfmPwdDl").attr("class","regForm-item regForm-item-focus");f.hideRemind("mobileCfmPwd");return false}).bind("mouseover",function(){$("#mobileCfmPwdDl").attr("class","regForm-item regForm-item-focus");return false}).bind("mouseout",function(){if(A!="cfmPwd"){$("#mobileCfmPwdDl").attr("class","regForm-item")}return false}).bind("blur",function(T){$("#mobileCfmPwdDl").attr("class","regForm-item");f.hideRemind("mobileCfmPwd");var S=$.trim($("#mobilePwdIpt").val());if(!k.pwd&&S!=""){return false}var R=$.trim($("#mobileCfmPwdIpt").val());if(R==""){L("cfmPwd",{result:"empty"});if(S!=""){f.showRemind("error","mobileCfmPwd","请再次填写密码");return false}f.hideRemind("mobileCfmPwd");return false}R=p.toDBC(R);$("#mobileCfmPwdIpt").val(R);if(R==S){f.showRemind("success","mobileCfmPwd","");k.cfmPwd=true;L("cfmPwd",{result:"done"})}else{f.showRemind("error","mobileCfmPwd","两次填写的密码不一致");L("cfmPwd",{result:"notmatch"})}return false}).bind("keyup",function(R){if(R.keyCode==13){$("#mobileCfmPwdIpt").blur();return false}m.cfmPwd=true;return false})},mobile:function(R){$("#mobileIpt").bind("focus",function(){q("mobile");H=false;$("#mobileDl").attr("class","regForm-item regForm-item-focus");f.hideRemind("mobile");return false}).bind("blur",function(){$("#mobileDl").attr("class","regForm-item");var T=$.trim($("#mobileIpt").val());T=p.toDBC(T);$("#mobileIpt").val(T);var S=r.checkMobile(T);switch(S){case 0:L("mobile",{result:"empty"});return false;case -1:f.showRemind("error","mobile","请填写有效的11位手机号码");L("mobile",{result:"wrong"});break;case 1:s(T);L("mobile",{result:"done"});break}return false}).bind("keyup",function(S){E();if(S.keyCode==13){$("#mobileIpt").blur();return false}m.mobile=true;return false}).bind("mouseover",function(){$("#mobileDl").attr("class","regForm-item regForm-item-focus");return false}).bind("mouseout",function(){if(A!="mobile"){$("#mobileDl").attr("class","regForm-item")}return false});$("#rebindA").click(function(){H=false;k.mobile=true;rebindPopup.hide();f.hideRemind("mobile");$("#mVcodeIpt").focus();return false})},accept:function(){$("#mobileAcceptIpt").click(function(){if(!$("#mobileAcceptIpt").attr("checked")){k.accept=false;f.showRemind("error","mobileAccept","请接受服务条款")}else{k.accept=true;f.hideRemind("mobileAccept")}})}};var l=false;this.turnOn=function(R,S){if(_Global.locked){return}if(R){$("#mobileIpt").val(R);$("#mobileIpt").blur()}$("#vipAdds126").hide();$("#vipAdds163").hide();$("#adds").show();$("#regMain").hide();$("#regVipFrame").hide();$("#regMobile").show();$("#guideMain").hide();$("#guideMobile").show();$("#tabsUl").attr("class","tabs2-on");B=S;_Global.flow=this;if(!l){l=true;b.info({opt:"turn_on",flow:O,pos:S})}};this.init=function(S){if(typeof S.flow!="undefined"){O=S.flow}c=S.avs;for(var R in g){g[R](S)}n=S.from;j=S.forcedFlow;a=S.targetURL;C=S.boundDomains;w=S.sid};this.fieldVal=function(R){switch(R){case"name":return $.trim($("#mobileIpt").val());case"pwd":return $.trim($("#mobilePwdIpt").val());case"cfmpwd":return $.trim($("#mobileCfmPwdIpt").val());case"acode":return $.trim($("#acodeIpt").val());default:return""}};function u(R,S){for(var T=0;T<R.length;T++){var U=$("#"+R[T]);S?U.removeAttr("disabled"):U.attr("disabled","true")}}function D(R){var S=true;if(R){S=false;$("#mobileRegA").hide();$("#mobileRegA_d").html(R);$("#mobileRegA_d").show()}else{$("#mobileRegA").show();$("#mobileRegA_d").hide()}u(["mobileIpt","mobilePwdIpt","mobileCfmPwdIpt","acodeIpt"],S);_Global.locked=!S}this.handleMsg=function(R){switch(R.msg){case"WRONG MOBILE":case"ILLEGAL_UID":case"INVALID NAME":f.showRemind("error","mobile","无效手机号");k.mobile=false;break;case"EXCESSIVE ATTEMPTS":f.showRemind("error","mobile","验证尝试次数过多");k.mobile=false;break;case"MUID ALIASED":f.showRemind("error","mobile","该邮件地址已存在，不能再注册");k.mobile=false;break;case"MUID_EXIST":f.showRemind("error","mobile","该邮件地址已存在，不能再注册");k.mobile=false;break;case"NAME_EQUALS_PASSWORD":f.showRemind("error","mobilePwd","密码和用户名不能完全相同");k.pwd=false;break;case"NO_PASSWORD":$("#mobilePwdIpt").blur();k.pwd=false;break;case"NAME EQUALS PASSWORD":case"PASSWORD TOO SIMPLE":f.showRemind("error","mobilePwd","密码过于简单");k.pwd=false;break;case"NO_CONFIRMED_PASSWORD":case"PASSWORD_NOT_MATCH":$("#mobileCfmPwdIpt").blur();k.cfmPwd=false;break;case"BIND TOO MANY":f.showRemind("error","mobile","手机绑定次数过多");k.mobile=false;break;case"ILLEGAL_VERIFY":case"WRONG ACODE":case"NOT PASS":f.showRemind("error","acode","验证码不正确，请重新填写");k.acode=false;break;case"VERIFY_ACODE_NORETURN":f.showRemind("error","acode","验证码校验失败，请重新填写");k.acode=false;break;case"INVALID_SUSPEND":case"REGISTER_NOT_FOUND":$("#overdueTips").show();break;default:$("#overdueTips").show();break}};var F=false;var y={};this.getStartParam=function(R){return y[R]};this.start=function(){var V=$.trim($("#mobileIpt").val());var W=V+"@163.com";var X=$.trim($("#acodeIpt").val());var U=$.trim($("#mobilePwdIpt").val());var T=$.trim($("#mobileCfmPwdIpt").val());var S=true;if(!I()){if(!k.mobile){if(V==""){f.showRemind("error","mobile","请填写手机号码")}}if(!k.acode){if(X==""){f.showRemind("error","acode","请填写短信验证码")}}if(!k.pwd){if(U==""){f.showRemind("error","mobilePwd","请填写密码")}}if(!k.cfmPwd){if(T==""){f.showRemind("error","mobileCfmPwd","请再次填写密码")}}return false}D("处理中...");var R="https://ssl.mail.163.com/regall/unireg/call.do;jsessionid="+w+"?cmd=register.start";y={flow:O,mobile:V,uid:W,acode:X,mark:"mobile_start",password:U,confirmPassword:T,uapw:S,from:n,pos:B};if(j){y.forcedFlow=j}if(z.supportCORS()){$.ajax({url:R,xhrFields:{withCredentials:true},type:"POST",data:y,success:function(Z,aa,Y){h.handleStart(Z,Y.status)}})}else{z.formSubmit("submitForm",R+"&reforward=common/reform&targetCmd=register.ctrlTop","POST",y,{target:"submitFrame"})}};this.handleStart=function(S,R){switch(R){case 200:if(typeof S!="object"){S=$.parseJSON(S)}switch(S.code){case 200:F=true;com.netease.mail.unireg.register.common.LoginUtils.login("submitForm",y.mobile,"163.com",y.password,"1",a);break;default:D();h.handleMsg(S);break}break;case 201:showSecondarySection(S);break;default:D();$("#overdueTips").show();break}};this.quit=function(){if(!F){b.info({opt:"quit_reg",flow:O,lastField:K})}}});Namespaces.create("com.netease.mail.unireg.register.vip.Start",function(){this.turnOn=function(){var a=$("#mainDomainSelect").find("option:selected").text();if(_Global.locked){return}$("#regMain").hide();$("#regMobile").hide();if(a=="126.com"){$("#adds").hide();$("#vipAdds126").show();$("#vipAdds163").hide();$("#regVipFrameId").attr("src","http://mimg.vip.163.com/mailreg-entry/vip_reg_126.html");$("#regVipFrame").show()}else{$("#adds").hide();$("#vipAdds163").show();$("#vipAdds126").hide();$("#regVipFrameId").attr("src","http://mimg.vip.163.com/mailreg-entry/vip_reg_163.html");$("#regVipFrame").show()}$("#guideMain").hide();$("#guideMobile").show();$("#tabsUl").attr("class","tabs3-on");_Global.flow=this}});